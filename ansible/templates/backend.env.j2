# {{ ansible_managed }}
# =============================================================================
# TechStore — Backend Environment (Docker Mode)
# Generated by Ansible — do not edit manually on the server.
# =============================================================================

# ── Auth ──────────────────────────────────────────────────
JWT_SECRET={{ jwt_secret }}
PORT={{ backend_port }}
NODE_ENV=production

# ── Database: Docker PostgreSQL ───────────────────────────
DB_PROVIDER={{ docker_db_provider | default('postgres') }}
DATABASE_URL=postgresql://{{ docker_pg_user }}:{{ docker_pg_password }}@{{ docker_pg_host }}:5432/{{ docker_pg_db }}

{% if email_user is defined and email_user %}
# ── Email (SMTP) ─────────────────────────────────────────
EMAIL_USER={{ email_user }}
EMAIL_PASS={{ email_pass }}
{% endif %}

{% if stripe_secret_key is defined and stripe_secret_key %}
# ── Stripe ────────────────────────────────────────────────
STRIPE_SECRET_KEY={{ stripe_secret_key }}
{% endif %}

{% if cors_origin is defined and cors_origin %}
# ── CORS ──────────────────────────────────────────────────
CORS_ORIGIN={{ cors_origin }}
{% endif %}
