# ============================================================
# Backend Environment Variables
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# ============================================================
#
# PHILOSOPHY: This app is designed to be AUTONOMOUS.
# Only 1 variable is truly REQUIRED to boot the server: JWT_SECRET.
# Without Supabase credentials, the app runs in "setup mode":
#   → Empty storefront, neutral defaults, no data, no login.
# Once SUPABASE_URL + SUPABASE_KEY are added → full functionality.
# Everything else is configured from the Admin Panel UI.
#
# Boot sequence:
#   1. Set JWT_SECRET (only hard requirement)
#   2. Set SUPABASE_URL + SUPABASE_KEY (activates the app)
#   3. Start backend + frontend
#   4. Login as admin → Settings → configure all services from UI
#
# ============================================================


# ╔══════════════════════════════════════════════════════════╗
# ║  REQUIRED — Server will NOT start without this          ║
# ╚══════════════════════════════════════════════════════════╝

JWT_SECRET=                            # Min 32 chars. Generate with: openssl rand -hex 32


# ╔══════════════════════════════════════════════════════════╗
# ║  RECOMMENDED — Without these the app runs in "setup     ║
# ║  mode" (empty store, no data, no login). Add them to    ║
# ║  activate the app fully.                                ║
# ╚══════════════════════════════════════════════════════════╝

SUPABASE_URL=                          # https://your-project-id.supabase.co
SUPABASE_KEY=                          # anon (public) key → Supabase Dashboard → Settings → API
PORT=5001                              # (default: 5001)
NODE_ENV=production                    # development | production
FRONTEND_URL=                          # https://yourdomain.com  (share pages, email links)
BASE_URL=                              # https://yourdomain.com  (OG meta image URLs)
CORS_ORIGIN=                           # https://yourdomain.com  (allowed CORS origin)


# ╔══════════════════════════════════════════════════════════╗
# ║  OPTIONAL — .env fallback only. Admin Panel overrides.  ║
# ║  Prefer configuring these from the UI instead.          ║
# ╚══════════════════════════════════════════════════════════╝

# Encryption (defaults to JWT_SECRET if not set)
# SETTINGS_ENCRYPTION_SECRET=

# Email / SMTP  →  Prefer: Admin Panel → Settings → Email
# EMAIL_USER=
# EMAIL_PASS=
# EMAIL_HOST=
# EMAIL_PORT=587
# EMAIL_SERVICE=gmail

# Stripe  →  Prefer: Admin Panel → Settings → Payments → Stripe
# STRIPE_SECRET_KEY=
# STRIPE_PUBLISHABLE_KEY=
# STRIPE_WEBHOOK_SECRET=

# PayPal  →  Prefer: Admin Panel → Settings → Payments → PayPal
# PAYPAL_CLIENT_ID=
# PAYPAL_CLIENT_SECRET=
# PAYPAL_MODE=sandbox


# ╔══════════════════════════════════════════════════════════╗
# ║  CONFIGURED EXCLUSIVELY FROM ADMIN PANEL UI             ║
# ║  (NOT set in .env — stored encrypted in Supabase)       ║
# ╚══════════════════════════════════════════════════════════╝
#
# Service              Admin Panel Section
# ─────────────────    ───────────────────────────────────
# LLM / Chatbot        Settings → Chatbot (Groq, OpenAI, Google, OpenRouter)
# Stripe keys          Settings → Payments → Stripe
# PayPal keys          Settings → Payments → PayPal
# SMTP credentials     Settings → Email → SMTP
# Supabase creds       Settings → Database (view/test connection)
# Site appearance       Settings → Site (colors, hero, logo, etc.)
# Payment methods      Settings → Payments (cash, transfer, card)
# Categories           Settings → Site → Filters
# Contact info         Settings → Site → Contact
#
# ════════════════════════════════════════════════════════════
#
# INFRASTRUCTURE NOTES:
# - DNS + SSL: Handled by Cloudflare (proxy mode). No Certbot needed.
# - Deployment: Automated via GitHub Actions (.github/workflows/deploy.yml)
#   Required GitHub Secrets: SSH_PRIVATE_KEY, SERVER_USER, APP_PATH
# - Process manager: PM2 (ecosystem.config.cjs)
# - Reverse proxy: Nginx
# ============================================================
